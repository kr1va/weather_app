var temp=$("#weatherDegrees").html(),btn=$(".header__selector__btn");$(btn[0]).on("click",function(){$(this).hasClass("--active")||($(this).addClass("--active"),$(btn[1]).removeClass("--active"),$("#weatherDegrees").html(temp))}),$(btn[1]).on("click",function(){$(this).hasClass("--active")||($(this).addClass("--active"),$(btn[0]).removeClass("--active"),$("#weatherDegrees").html(Math.floor(1.8*temp+32)))}),$("input.city").on("click",function(){$(this).val("")});var getWeather=function(t){this.loc=t;if(this.loc){var e="http://api.openweathermap.org/data/2.5/weather?q="+this.loc+"&APPID=adf0af8922e08a10d67b0ffb6859b57f&units=metric";$.post(e,function(t){t.name&&t.main.temp&&t.weather[0].icon&&t.main.pressure&&t.main.humidity&&t.weather[0].description&&(temp=Math.floor(t.main.temp),$("div.cityName").html(t.name),$("span.cityName").html(t.name),$("#weatherDegrees").html(Math.floor(t.main.temp)),$("#wind").html(Math.floor(t.main.temp)+" м.с"),$("#pressure").html(t.main.pressure+" мм рт. ст."),$("#humidity").html(t.main.humidity+" %"),$("#weatherDescription").html(t.weather[0].description),"Rain"==t.weather[0].main?$("#rainChance").html("Идет дождь"):$("#rainChance").html("Маловероятно"));var e="http://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png";$("#weatherIcon").attr("src",e)}).fail(function(t,e,a){return 404==t.status&&(alert("Wrong city: "+loc+" !"),$("input.city").val("")),console.log("Result: "+e+" "+a+" "+t.status+" "+t.statusText),!1})}else alert("Empty!")};getWeather("Krasnodar");var search=$(".citySearch");$(search).on("click",function(){for(var t=$("input.city"),e=0;e<t.length;e++)if(""!==$(t[e]).val())var a=$(t[e]).val();getWeather(a)});